/* style.css - V3.2 ç»ˆæä¿®æ­£ç‰ˆ (ä¿®å¤å¡ç‰‡å‡Œä¹±ã€æ–‡å­—é‡å ã€é¢œè‰²ä¸¢å¤±) */

/* 1. åŸºç¡€è®¾ç½® & éé‡‘çº¢ç»¸èƒŒæ™¯ */
html,
body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    font-family: "Songti SC", "Noto Serif SC", serif;
    background-color: #2b0a0a;
    background-image:
        radial-gradient(circle at 50% 50%, rgba(255, 50, 50, 0.05) 0%, transparent 60%),
        repeating-linear-gradient(45deg, rgba(255, 255, 255, 0.03) 0px, rgba(255, 255, 255, 0.03) 1px, transparent 1px, transparent 3px),
        repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0.1) 0px, rgba(0, 0, 0, 0.1) 1px, transparent 1px, transparent 3px),
        radial-gradient(circle at 50% 50%, transparent 40%, #000000 100%);
}

/* 2. è¿½å…‰ç¯ */
#spotlight {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 80vh;
    height: 80vh;
    background: radial-gradient(circle, rgba(255, 80, 60, 0.4) 0%, transparent 70%);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 5;
    opacity: 0;
    mix-blend-mode: screen;
}

/* 3. åºè¨€é¡µ (Intro) - é¢œè‰²å¼ºåˆ¶ä¿®å¤ */
/* style.css - ä¿®å¤é¦–é¡µå®½åº¦è¢«è¦†ç›–çš„é—®é¢˜ */

/* ğŸš€ ä¿®æ”¹é€‰æ‹©å™¨ä¸º .item.introï¼Œå¢åŠ æƒé‡ï¼Œç¡®ä¿è¦†ç›–æ‰ .item çš„è®¾ç½® */
.item.intro {
    width: 100vw !important;
    /* å¼ºåˆ¶å…¨å±å®½åº¦ */
    padding: 0 !important;
    /* æ¸…é™¤ .item çš„ padding */
    display: flex;
    justify-content: center;
    flex-shrink: 0;
    /* é˜²æ­¢æŒ¤å‹ */
    z-index: 10;
}

.intro-container {
    display: flex;
    align-items: center;
    max-width: 1250px;
    gap: 40px;
    color: #d4c4a8;
}

.intro-container.exit-active {
    opacity: 0;
    transform: scale(1.1);
    filter: blur(10px);
}

.intro-left {
    flex: 1;
    text-align: center;
    border-right: 1px solid rgba(212, 196, 168, 0.3);
    padding-right: 40px;
    position: relative;
    z-index: 20;
}

/* ğŸ”´ çº¢ç« ä¿®å¤ */
.chinese-seal {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

.seal-text {
    font-size: 5rem;
    color: #d4c4a8 !important;
    letter-spacing: 10px;
    text-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
}

.seal-box {
    font-size: 2rem;
    color: #2b0a0a !important;
    background-color: #c93737 !important;
    padding: 15px 10px;
    border-radius: 4px;
    writing-mode: vertical-rl;
    box-shadow: 0 0 20px rgba(201, 55, 55, 0.6);
    border: 2px solid rgba(255, 255, 255, 0.1);
}

.intro-right {
    flex: 1;
    padding-left: 40px;
    color: #d4c4a8 !important;
}

.intro-right h3 {
    color: #c93737 !important;
    font-size: 2rem;
    margin-bottom: 20px;
}

.intro-right p {
    line-height: 2.2;
    font-size: 1.1rem;
    color: #d4c4a8 !important;
}

.intro-right strong {
    color: #fff;
    font-weight: normal;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}

/* æ»šåŠ¨æç¤º */
.scroll-hint {
    font-size: 0.8rem;
    color: #666;
    display: flex;
    gap: 15px;
    margin-top: 30px;
}

.arrow {
    animation: moveRight 1.5s infinite;
}

@keyframes moveRight {
    50% {
        transform: translateX(10px);
    }
}

/* 4. æ¨ªå‘æ»šåŠ¨è½¨é“ä¸å¡ç‰‡ */
.gallery-viewport {
    position: fixed;
    inset: 0;
    overflow: hidden;
    z-index: 10;
}

.gallery-track {
    display: flex;
    height: 100%;
    width: max-content;
    will-change: transform;
}

/* ğŸ”§ ä¿®å¤å¡ç‰‡ä¹±çš„å…³é”®ï¼šflex-shrink: 0 */
.item {
    width: 60vw;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    padding: 0 2vw;
    z-index: 1;

    /* ğŸš€ å…³é”®ä»£ç ï¼šç¦æ­¢æµè§ˆå™¨æŒ¤å‹å¡ç‰‡ï¼Œç¡®ä¿å®ƒä»¬ä¿æŒåŸæœ‰å®½åº¦ï¼ */
    flex-shrink: 0;
}

.item-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
    /* ç¡®ä¿å†…å®¹ä¸ä¼šè·‘å */
    width: 100%;
}

.card-3d-scene {
    height: 60vh;
    perspective: 1500px;
}

.card-flipper {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.8s;
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

.card-face .art-img {
    height: 100%;
    border-radius: 4px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
}

.card-back {
    transform: rotateY(180deg);
    filter: brightness(0.6) sepia(0.5);
}

/* äº¤äº’ç¿»è½¬ */
.card-item.is-flipped .card-flipper {
    transform: rotateY(0deg);
}

.card-shine {
    position: absolute;
    inset: 0;
    border-radius: 4px;
    z-index: 10;
    opacity: 0;
    transition: opacity 0.3s;
    background: linear-gradient(135deg, transparent 40%, rgba(255, 255, 255, 0.3) 50%, transparent 60%);
    mix-blend-mode: overlay;
}

.card-item:hover .card-shine {
    opacity: 1;
}

/* ğŸ”§ ä¿®å¤æ–‡å­—é‡å ä¹±è±¡ */
.meta {
    margin-top: 20px;
    text-align: center;
    color: #d4c4a8 !important;
    opacity: 0;
    /* é»˜è®¤éšè—æ–‡å­—ï¼Œé˜²æ­¢é‡å  */
    transition: opacity 0.3s ease;
    transform: translateY(10px);
}

/* åªæœ‰ç¿»è½¬è¿‡æ¥çš„ï¼ˆä¸­é—´çš„ï¼‰å¡ç‰‡æ‰æ˜¾ç¤ºæ–‡å­—ï¼Œä¸”ä¸Šæµ®å‡ºç° */
.card-item.is-flipped .meta {
    opacity: 1;
    transform: translateY(0);
}

.meta h2 {
    border-bottom: 1px solid #c93737;
    display: inline-block;
    padding-bottom: 5px;
}

/* 5. è¯¦æƒ…å¼¹çª— */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(10px);
    z-index: 30000;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: 0.5s;
}

.modal-overlay.active {
    opacity: 1;
    pointer-events: all;
}

.modal-content {
    width: 80vw;
    height: 80vh;
    background: #2b0a0a;
    border: 1px solid #d4c4a8;
    display: flex;
    transform: translateY(50px);
    transition: 0.5s;
}

.modal-overlay.active .modal-content {
    transform: translateY(0);
}

.close-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    color: #d4c4a8;
    border: 1px solid #d4c4a8;
    background: none;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    cursor: pointer;
}

.modal-media-box {
    flex: 1;
    background: #000;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* style.css - æ‰¾åˆ°åŸå…ˆé‚£æ®µæ›¿æ¢æˆè¿™ä¸ª */

/* ä¿®å¤å›¾ç‰‡è¿‡å¤§æ’‘çˆ†å¸ƒå±€çš„é—®é¢˜ */
.modal-media-box img,
#modal-img {
    height: 90%;
    /* é«˜åº¦æœ€å¤šå  90% */
    width: auto;
    /* å®½åº¦è‡ªåŠ¨ */
    max-width: 100%;
    /* å…³é”®ï¼šå®½åº¦ç»ä¸èƒ½è¶…è¿‡çˆ¶å®¹å™¨ */
    object-fit: contain;
    /* ä¿æŒæ¯”ä¾‹ */
}

.modal-text-box {
    flex: 1;
    padding: 60px;
    color: #d4c4a8;
    overflow-y: auto;
}

.modal-text-box h2 {
    color: #c93737;
    border-bottom: 2px solid #3a1a1a;
    padding-bottom: 20px;
    margin-bottom: 20px;
}

#play-btn-overlay {
    position: absolute;
    bottom: 30px;
    right: 30px;
    display: flex;
    align-items: center;
    gap: 15px;
    background: rgba(0, 0, 0, 0.6);
    padding: 12px 25px;
    border-radius: 50px;
    cursor: pointer;
    border: 1px solid rgba(212, 196, 168, 0.3);
    opacity: 0;
    transition: 0.3s;
    pointer-events: none;
}

#play-btn-overlay.show {
    opacity: 1;
    pointer-events: all;
}

#play-btn-overlay:hover {
    background: #c93737;
    transform: scale(1.05);
}

/* èƒŒæ™¯è¯—å¥ */
.bg-layer {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    pointer-events: none;
}

.vertical-poem {
    position: absolute;
    top: 10vh;
    right: 10vw;
    display: flex;
    gap: 20px;
    opacity: 0.6;
}

.vertical-poem span {
    writing-mode: vertical-rl;
    font-size: 3rem;
    color: #d4c4a8;
    letter-spacing: 15px;
}

.progress-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: rgba(255, 255, 255, 0.1);
    z-index: 100;
}

.progress-inner {
    height: 100%;
    width: 0%;
    background: #c93737;
    transition: width 0.1s linear;
}

.sound-control {
    position: fixed;
    top: 30px;
    right: 30px;
    z-index: 10000;
    color: #d4c4a8;
    border: 1px solid #d4c4a8;
    padding: 10px 20px;
    border-radius: 30px;
    cursor: pointer;
    gap: 10px;
    display: flex;
}

/* =========================================
   ğŸ“œ V3.1 ç«–å‘é•¿å·æ±‡æ€»é¡µ
   ========================================= */
/* style.css - æ‰¾åˆ°å¹¶æ›¿æ¢è¿™ä¸€æ•´å— */

#vertical-scroll-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    overflow-y: auto;
    overflow-x: hidden;
    pointer-events: none;
    opacity: 0;

    /* æ°´å½©æµåŠ¨èƒŒæ™¯ (ä¿æŒä¸å˜) */
    background-color: #1a0505;
    background-image:
        url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.07'/%3E%3C/svg%3E"),
        radial-gradient(circle at 20% 20%, rgba(138, 28, 28, 0.6) 0%, transparent 60%),
        radial-gradient(circle at 80% 80%, rgba(14, 30, 74, 0.5) 0%, transparent 60%),
        radial-gradient(circle at 50% 50%, rgba(200, 100, 50, 0.1) 0%, transparent 100%);
    background-size: 100% 100%, 150% 150%, 150% 150%, 100% 100%;
    animation: watercolorMove 20s infinite alternate ease-in-out;

    /* ğŸš€ æ ¸å¿ƒä¿®æ”¹ï¼šæŠŠåœ†å¿ƒä»ä¸­é—´(50% 50%)ç§»åˆ°å³ä¾§è¾¹ç¼˜(95% 50%) */
    clip-path: circle(0% at 95% 50%);

    /* å…³é—­åŠ¨ç”»é€»è¾‘ (ä¿æŒä¸å˜) */
    transition: clip-path 2s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.5s 1.5s;
}

#vertical-scroll-overlay.active {
    pointer-events: all;
    opacity: 1;

    /* ğŸš€ æ ¸å¿ƒä¿®æ”¹ï¼šä»å³ä¾§è¾¹ç¼˜å‘å·¦æ‰©æ•£è¦†ç›–å…¨å± */
    clip-path: circle(150% at 95% 50%);

    /* æ‰“å¼€åŠ¨ç”»é€»è¾‘ (ä¿æŒä¸å˜) */
    transition: clip-path 2s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.5s;
}
/* èƒŒæ™¯æµåŠ¨åŠ¨ç”» */
@keyframes watercolorMove {
    0% {
        background-position: 0 0, 0% 0%, 100% 100%, 50% 50%;
    }

    100% {
        background-position: 0 0, 10% 10%, 90% 90%, 50% 50%;
    }
}

/* style.css - æ‰¾åˆ° .ink-blob å¹¶å®Œå…¨æ›¿æ¢ */

/* æ°´å¢¨å®¹å™¨ (ä¿æŒä¸å˜ï¼Œä½†ä¸ºäº†ä¿é™©èµ·è§å»ºè®®æ£€æŸ¥) */
.ink-container {
    position: fixed;
    inset: 0;
    z-index: 9998;
    /* æ¶²æ€èåˆæ»¤é•œï¼šè®©é¢œè‰²è¾¹ç¼˜ç²˜è¿ */
    filter: blur(20px) contrast(30);
    opacity: 0;
    transition: 0.5s;
    mix-blend-mode: multiply;
    /* ğŸ¨ æ­£ç‰‡å åº•ï¼šè®©é¢œè‰²åƒå¢¨æ°´ä¸€æ ·æ¸—å…¥åº•è‰² */
}

/* ğŸ¨ ä¿®æ”¹ 2ï¼šæœ±ç ‚å¢¨æ»´ */
.ink-blob {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100px;
    height: 100px;

    /* æ”¹æˆæ·±çº¢æ¸å˜ï¼Œä¸å†æ˜¯çº¯é»‘ */
    background: radial-gradient(circle, #8a1c1c 0%, #4a0e0e 100%);

    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);

    /* åŠ¨ç”»ä¿æŒ 2.5s æ…¢é€Ÿæ‰©æ•£ */
    transition: transform 2.5s cubic-bezier(0.25, 1, 0.5, 1);
}

.ink-container.active {
    opacity: 1;
}

.ink-container.active .ink-blob {
    transform: translate(-50%, -50%) scale(50);
}

/* æ±‡æ€»ç½‘æ ¼ - æ ¸å¿ƒä¿®å¤ï¼šz-index é«˜äºæ°´å¢¨ */
.scroll-content {
    position: relative;
    z-index: 20000;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px 40px;
    padding: 120px 10%;
    max-width: 1400px;
    margin: 0 auto;
}

.scroll-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    opacity: 0;
    transform: translateY(80px);
    transition: 1s ease;
}

.scroll-item.reveal-active {
    opacity: 1;
    transform: translateY(0);
}

.scroll-item:nth-child(even) {
    margin-top: 80px;
}

.scroll-img {
    width: 100%;
    max-width: 400px;
    aspect-ratio: 2/3;
    border-radius: 6px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.15);
    cursor: pointer;
    transition: 0.5s;
    object-fit: cover;
}

.scroll-img:hover {
    transform: scale(1.05) translateY(-10px);
    border-color: #c93737;
}

.scroll-text {
    font-size: 1.5rem;
    color: #d4c4a8 !important;
    letter-spacing: 5px;
    /* åŠ å¼ºé˜´å½±ï¼Œé˜²æ­¢åœ¨å½©è‰²èƒŒæ™¯ä¸Šçœ‹ä¸æ¸… */
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.9), 0 0 20px rgba(0, 0, 0, 0.5);
}

.smoke-layer {
    position: fixed;
    inset: 0;
    z-index: 0;
    opacity: 0.4;
    pointer-events: none;
}

.smoke {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 60%);
    filter: blur(40px);
    animation: floatUp 12s infinite linear;
    bottom: -200px;
}

@keyframes floatUp {
    0% {
        transform: translateY(0) scale(1);
        opacity: 0;
    }

    100% {
        transform: translateY(-120vh) scale(1.5);
        opacity: 0;
    }
}

/* style.css - æ‰¾åˆ°å¹¶æ›¿æ¢ .scroll-footer å’Œ .restart-btn éƒ¨åˆ† */

.scroll-footer {
    grid-column: 1 / -1;
    display: flex;
    justify-content: center;
    padding: 120px 0;
    /* å¢åŠ åº•éƒ¨ç•™ç™½ï¼Œé˜²æ­¢è´´åº• */
    position: relative;
    z-index: 30000;
    /* ğŸš€ æ ¸å¿ƒä¿®å¤ï¼šå±‚çº§æåˆ°æœ€é«˜ï¼Œç¡®ä¿ç»å¯¹èƒ½ç‚¹å‡»ï¼ */
}

.restart-btn {
    /* ğŸ¨ è§†è§‰å‡çº§ï¼šæœ±çº¢ä¸¹ç ‚é£æ ¼ */
    background: linear-gradient(135deg, #c93737 0%, #a61b1b 100%);
    border: 1px solid rgba(255, 238, 191, 0.6);
    /* é‡‘è‰²è¾¹æ¡† */
    color: #ffeebf;
    /* é‡‘è‰²æ–‡å­— */

    font-size: 1.3rem;
    /* å­—å·åŠ å¤§ */
    padding: 18px 60px;
    /* æŒ‰é’®å˜å¤§ */
    border-radius: 50px;
    cursor: pointer;

    /* å¢åŠ é˜´å½±å’Œå‘å…‰æ„Ÿ */
    box-shadow: 0 10px 30px rgba(166, 27, 27, 0.5);
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);

    letter-spacing: 4px;
    font-family: "Songti SC", serif;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* æ‚¬åœç‰¹æ•ˆ */
.restart-btn:hover {
    transform: translateY(-5px) scale(1.05);
    /* ä¸Šæµ® */
    background: linear-gradient(135deg, #e64545 0%, #c93737 100%);
    color: #fff;
    box-shadow: 0 20px 50px rgba(230, 69, 69, 0.6);
    /* å¼ºçƒˆå‘å…‰ */
    border-color: #fff;
}

/* ç‚¹å‡»åé¦ˆ */
.restart-btn:active {
    transform: scale(0.95);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

@media (max-width: 768px) {
    .intro-container {
        flex-direction: column;
    }

    .item {
        width: 90vw;
    }

    .scroll-content {
        grid-template-columns: 1fr;
    }

    .scroll-item:nth-child(even) {
        margin-top: 0;
    }
}